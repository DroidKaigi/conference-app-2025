# Gradle CI Properties for Xcode Cloud
# Network and SSL configuration to resolve dependency download issues

# Disable parallel downloads
org.gradle.parallel=false
org.gradle.workers.max=1

# Network timeouts (2 minutes)
systemProp.org.gradle.internal.http.connectionTimeout=120000
systemProp.org.gradle.internal.http.socketTimeout=120000

# SSL/TLS configuration
systemProp.https.protocols=TLSv1.2,TLSv1.3
systemProp.jdk.tls.client.protocols=TLSv1.2,TLSv1.3
systemProp.https.cipherSuites=TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256

# Java networking properties
systemProp.java.net.preferIPv4Stack=true
systemProp.java.net.preferIPv6Addresses=false
systemProp.http.keepAlive=false
systemProp.http.maxConnections=5

# Trust all certificates (CI only - not for production)
systemProp.javax.net.ssl.trustStore=NONE
systemProp.javax.net.ssl.trustStoreType=Windows-ROOT

# Disable hostname verification (CI only)
systemProp.jdk.http.auth.tunneling.disabledSchemes=""
systemProp.jdk.http.auth.proxying.disabledSchemes=""

# Repository configuration
systemProp.org.gradle.internal.publish.checksums.insecure=true

# Gradle specific
org.gradle.configureondemand=false
org.gradle.daemon=false
org.gradle.caching=false

# Kotlin specific
kotlin.incremental=false
kotlin.compiler.execution.strategy=in-process
kotlin.native.disableCompilerDaemon=true

# JVM memory settings
org.gradle.jvmargs=-Xmx8g -XX:MaxMetaspaceSize=4g -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8